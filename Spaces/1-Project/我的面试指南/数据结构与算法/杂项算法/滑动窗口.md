---
title: æ»‘åŠ¨çª—å£
date created: 2022-03-29
date modified: 2023-01-20
---

# æ»‘åŠ¨çª—å£

æ»‘åŠ¨çª—å£ç®—æ³•æ˜¯åœ¨ç»™å®šç‰¹å®šçª—å£å¤§å°çš„æ•°ç»„æˆ–å­—ç¬¦ä¸²ä¸Šæ‰§è¡Œè¦æ±‚çš„æ“ä½œï¼Œå®ƒçš„åŸç†ä¸ç½‘ç»œä¼ è¾“TCPåè®®ä¸­çš„æ»‘åŠ¨çª—å£åè®®ï¼ˆSliding Window Protocolï¼‰åŸºæœ¬ä¸€è‡´ã€‚

è¿™ç§æŠ€æœ¯å¯ä»¥å°†ä¸€éƒ¨åˆ†é—®é¢˜ä¸­çš„åµŒå¥—å¾ªç¯è½¬å˜ä¸ºä¸€ä¸ªå•å¾ªç¯ï¼Œå› æ­¤å®ƒå¯ä»¥å‡å°‘æ—¶é—´å¤æ‚åº¦ã€‚**æ»‘åŠ¨çª—å£ä¸»è¦åº”ç”¨åœ¨æ•°ç»„å’Œå­—ç¬¦ä¸²ä¸Šã€‚**

ä¾‹å¦‚ï¼Œè®¾å®šæ»‘åŠ¨çª—å£ï¼ˆwindowï¼‰å¤§å°ä¸º 3ï¼Œå½“æ»‘åŠ¨çª—å£æ¯æ¬¡åˆ’è¿‡æ•°ç»„æ—¶ï¼Œè®¡ç®—å½“å‰æ»‘åŠ¨çª—å£ä¸­å…ƒç´ çš„å’Œï¼Œå¯ä»¥å¾—åˆ°ä¸€ç»„ç»“æœ resã€‚  
![](http://image.clickear.top/20220329095720.png)

å› ä¸ºæ»‘åŠ¨çª—å£æ˜¯é çª—å£èµ·å§‹ã€ç»“æŸä¸¤ä¸ªä½ç½®æ¥è¡¨ç¤ºçš„ï¼Œæ‰€ä»¥æ»‘åŠ¨çª—å£ä¹Ÿå¯ä»¥çœ‹ä½œç‰¹æ®Šçš„â€œåŒæŒ‡é’ˆâ€ã€‚[[åŒæŒ‡é’ˆæ³•]]

# ä¾‹é¢˜

## æ»‘åŠ¨çª—å£æœ€å¤§å€¼ï¼ˆ#239ï¼‰

### [[å †]]

æ„å»ºä¸€ä¸ªå¤§é¡¶å †ï¼ˆMax Heapï¼‰ï¼Œé‚£ä¹ˆå †é¡¶å…ƒç´  heap[0] æ°¸è¿œæ˜¯æœ€å¤§çš„ã€‚æ¯æ¬¡ç§»åŠ¨çª—å£çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªè¦ç»´æŠ¤è¿™ä¸ªå †ã€åœ¨é‡Œé¢æ’å…¥åˆ é™¤å…ƒç´ ï¼Œç„¶åè¿”å›å †é¡¶å…ƒç´ heap[0]å°±å¯ä»¥äº†ã€‚  
åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼ˆPriority Queueï¼‰æ¥å®ç°å¤§é¡¶å †

```java
public int[] maxSlidingWindow(int[] nums, int k) {
    int[] result = new int[nums.length - k + 1];
    // ç”¨ä¼˜å…ˆé˜Ÿåˆ—å®šä¹‰ä¸€ä¸ªå¤§é¡¶å †
    PriorityQueue<Integer> maxHeap = new PriorityQueue<>(k, new Comparator<Integer>() {
        @Override
        public int compare(Integer o1, Integer o2) {
            return o2 - o1; 
        }
    });
    for (int i = 0; i < k; i++) {
        maxHeap.add(nums[i]);
    }
    result[0] = maxHeap.peek();
    // éå†æ•°ç»„
    for(int i = 1; i <= nums.length - k; i++){
        maxHeap.remove(nums[i - 1]); 
        maxHeap.add(nums[i + k - 1]); 
        result[i] = maxHeap.peek();
    }
    return result;
}

```

 

+ æ—¶é—´å¤æ‚åº¦ï¼š O(Nlog(k))ï¼Œåœ¨å¤§å°ä¸º k çš„å †ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ åªéœ€è¦æ¶ˆè€— log(k) æ—¶é—´ï¼Œå› æ­¤è¿™æ ·æ”¹è¿›åï¼Œç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(Nlog(k))ã€‚ä½†æäº¤ä¾ç„¶ä¼šè¶…å‡ºæ—¶é—´é™åˆ¶ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼šO(N)ï¼Œè¾“å‡ºæ•°ç»„ç”¨åˆ°äº†O(N-k+1)çš„ç©ºé—´ï¼Œå¤§é¡¶å †ç”¨äº†O(k)

### [[åŒå‘é˜Ÿåˆ—]]

 

æˆ‘ä»¬å‘ç°ï¼Œçª—å£åœ¨æ»‘åŠ¨è¿‡ç¨‹ä¸­ï¼Œå…¶å®æ•°æ®å‘ç”Ÿçš„å˜åŒ–å¾ˆå°ï¼šåªæœ‰ç¬¬ä¸€ä¸ªå…ƒç´ è¢«åˆ é™¤ã€åé¢åˆæ–°å¢ä¸€ä¸ªå…ƒç´ ï¼Œä¸­é—´çš„å¤§é‡å…ƒç´ æ˜¯ä¸å˜çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‰åä¸¤ä¸ªçª—å£ä¸­ï¼Œæœ‰å¤§é‡æ•°æ®æ˜¯ **é‡å ** çš„ã€‚

[1, 3, -1,] -3, 5, 3, 6, 7

1, [3, -1, -3,] 5, 3, 6, 7

1, 3, [-1, -3, 5,] 3, 6, 7

è‡ªç„¶æƒ³åˆ°ï¼Œå…¶å®å¯ä»¥ä½¿ç”¨ä¸€ä¸ª **é˜Ÿåˆ—** æ¥ä¿å­˜çª—å£æ•°æ®ï¼šçª—å£æ¯æ¬¡æ»‘åŠ¨ï¼Œæˆ‘ä»¬å°±è®©åé¢çš„ä¸€ä¸ªå…ƒç´ ï¼ˆ-3ï¼‰è¿›é˜Ÿï¼Œå¹¶ä¸”è®©ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆ1ï¼‰å‡ºé˜Ÿã€‚è¿›å‡ºé˜Ÿåˆ—çš„æ“ä½œï¼Œåªè¦è€—è´¹å¸¸æ•°æ—¶é—´ã€‚

è¿™ç§åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨ **åŒå‘é˜Ÿåˆ—**ï¼ˆä¹Ÿå«åŒç«¯é˜Ÿåˆ—Dequeueï¼‰ï¼Œè¯¥æ•°æ®ç»“æ„å¯ä»¥ä»ä¸¤ç«¯ä»¥å¸¸æ•°æ—¶é—´å‹å…¥/å¼¹å‡ºå…ƒç´ ã€‚

åœ¨æ„å»ºåŒå‘é˜Ÿåˆ—çš„æ—¶å€™ï¼Œå¯ä»¥é‡‡ç”¨åˆ é™¤é˜Ÿå°¾æ›´å°å…ƒç´ çš„ç­–ç•¥ï¼Œæ‰€ä»¥ï¼Œå¾—åˆ°çš„å…¶å®å°±æ˜¯ä¸€ä¸ª **ä»å¤§åˆ°å°æ’åº** çš„é˜Ÿåˆ—ã€‚

è¿™æ ·å­˜å‚¨çš„å…ƒç´ ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯éµå¾ªâ€œæ›´æ–°æ›´å¤§â€åŸåˆ™çš„ã€‚

```java
public int[] maxSlidingWindow(int[] nums, int k) {
    if (k == 1) return nums;
    int[] result = new int[nums.length - k + 1];
    ArrayDeque<Integer> deque = new ArrayDeque<>();
    // åˆå§‹åŒ–åŒå‘é˜Ÿåˆ—
    for (int i = 0; i < k; i++){
        while (!deque.isEmpty() && nums[i] > nums[deque.getLast()]){
            deque.removeLast();
        }
        deque.addLast(i);
    }

    result[0] = nums[deque.getFirst()];

    // éå†æ•°ç»„
    for(int i = k; i < nums.length; i++){
         // è¯´æ˜æœ€å¤§çš„ä¸€æ¬¡æ•°æ®ï¼Œéœ€è¦åˆ é™¤
        if (!deque.isEmpty() && deque.getFirst() == i - k){
            deque.removeFirst();
        }
        // åˆ é™¤æ’å…¥ï¼Œä½¿å¾—æ ˆæ•°æ®æœ€å¤§
        while (!deque.isEmpty() && nums[i] > nums[deque.getLast()]){
            deque.removeLast();
        }
        deque.addLast(i); 
        result[i - k + 1] = nums[deque.getFirst()];
    }

    return result;
}
```

+ æ—¶é—´å¤æ‚åº¦ï¼šO(N)ï¼Œæ¯ä¸ªå…ƒç´ è¢«å¤„ç†ä¸¤æ¬¡ï¼šå…¶ç´¢å¼•è¢«æ·»åŠ åˆ°åŒå‘é˜Ÿåˆ—ä¸­ï¼Œä»¥åŠè¢«åŒå‘é˜Ÿåˆ—åˆ é™¤ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š O(N)ï¼Œè¾“å‡ºæ•°ç»„ä½¿ç”¨äº† O(Nâˆ’k+1) ç©ºé—´ï¼ŒåŒå‘é˜Ÿåˆ—ä½¿ç”¨äº†O(k)ã€‚

### [[ å·¦å³æ‰«æ]] ğŸ‘

ç®—æ³•çš„ä¸»è¦æ€æƒ³ï¼Œæ˜¯å°†è¾“å…¥æ•°ç»„åˆ†å‰²æˆæœ‰ k ä¸ªå…ƒç´ çš„å—ï¼Œç„¶ååˆ†åˆ«ä»å·¦å³ä¸¤ä¸ªæ–¹å‘è¿›è¡Œæ‰«æç»Ÿè®¡å—å†…çš„æœ€å¤§å€¼ï¼Œæœ€åè¿›è¡Œåˆå¹¶ã€‚è¿™é‡Œæœ‰ä¸€äº›å€Ÿé‰´äº†åˆ†æ²»å’ŒåŠ¨æ€è§„åˆ’çš„æ€æƒ³ã€‚

åˆ†å—çš„æ—¶å€™ï¼Œå¦‚æœ n % k != 0ï¼Œåˆ™æœ€åä¸€å—çš„å…ƒç´ ä¸ªæ•°å¯èƒ½æ›´å°‘ã€‚

![[Pasted image 20220329100521.png]]

å¼€å¤´å…ƒç´ ä¸º i ï¼Œç»“å°¾å…ƒç´ ä¸º j çš„å½“å‰æ»‘åŠ¨çª—å£å¯èƒ½åœ¨ä¸€ä¸ªå—å†…ï¼Œä¹Ÿå¯èƒ½åœ¨ä¸¤ä¸ªå—ä¸­ã€‚

![[Pasted image 20220329100537.png]]

ä¸ºäº†å¤„ç†æ›´å¤æ‚çš„æƒ…å†µ 2ï¼Œæˆ‘ä»¬éœ€è¦æ•°ç»„ rightï¼Œå…¶ä¸­ right[j] æ˜¯ä»å—çš„ç»“å°¾åˆ°ä¸‹æ ‡ j æœ€å¤§çš„å…ƒç´ ï¼Œæ–¹å‘ å³->å·¦ã€‚right æ•°ç»„å’Œ left é™¤äº†æ–¹å‘ä¸åŒä»¥å¤–åŸºæœ¬ä¸€è‡´ã€‚  
![[Pasted image 20220329100632.png]]

![[Pasted image 20220329100720.png]]

ä¸¤æ•°ç»„åˆåœ¨ä¸€èµ·ï¼Œå°±å¯ä»¥æä¾›ç›¸é‚»ä¸¤ä¸ªå—å†…å…ƒç´ çš„å…¨éƒ¨ä¿¡æ¯ã€‚

ç°åœ¨æˆ‘ä»¬è€ƒè™‘ä»ä¸‹æ ‡ i åˆ°ä¸‹æ ‡ jçš„æ»‘åŠ¨çª—å£ã€‚ å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªçª—å£å…¶å®å¯ä»¥å ªç§°ä¸¤éƒ¨åˆ†ï¼šä»¥ä¸¤å—çš„è¾¹ç•Œï¼ˆæ¯”å¦‚å«åšmï¼‰ä¸ºç•Œï¼Œä»iåˆ°må±äºç¬¬ä¸€ä¸ªå—ï¼Œè¿™éƒ¨åˆ†çš„æœ€å¤§å€¼ï¼Œåº”è¯¥ä»å³å¾€å·¦ï¼Œçœ‹right[i]ï¼›è€Œä»måˆ°jå±äºç¬¬äºŒä¸ªå—ï¼Œè¿™éƒ¨åˆ†çš„æœ€å¤§å€¼åº”è¯¥ä»å·¦å¾€å³ï¼Œçœ‹left[j]ã€‚å› æ­¤åˆå¹¶èµ·æ¥ï¼Œæ•´ä¸ªæ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å…ƒç´ ä¸º max(right[i], left[j])ã€‚

![[Pasted image 20220329100806.png]]

åŒæ ·ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€ç§æƒ…å½¢ï¼Œéƒ½åœ¨ä¸€ä¸ªå—å†…ï¼Œç”¨ä¸Šé¢çš„å…¬å¼ä¹Ÿæ˜¯æ­£ç¡®çš„ï¼ˆè¿™æ—¶right[i] = left[j]ï¼Œéƒ½æ˜¯å—å†…æœ€å¤§å€¼ï¼‰ã€‚

![[Pasted image 20220329100826.png]]

è¿™ä¸ªç®—æ³•æ—¶é—´å¤æ‚åº¦åŒæ ·æ˜¯O(N)ï¼Œä¼˜ç‚¹æ˜¯ä¸éœ€è¦ä½¿ç”¨é™¤æ•°ç»„ä¹‹å¤–çš„ä»»ä½•æ•°æ®ç»“æ„.

``` java

public int[] maxSlidingWindow(int[] nums, int k) {
    int n = nums.length; 
    int[] result = new int[n - k + 1];
    // å®šä¹‰å­˜æ”¾å—å†…æœ€å¤§å€¼çš„æ•°ç»„leftã€right
    int[] left = new int[n];
    int[] right = new int[n];
    // éå†æ•°ç»„ï¼Œå·¦å³åŒæ‰«æ
    for (int i = 0; i < n; i++){
        if (i % k == 0){
            left[i] = nums[i]; 
        } else {
            left[i] = Math.max(left[i-1], nums[i]); 
        }
        int j = n - i - 1;
        if (j % k == k - 1  || j == n-1){ 
            right[j] = nums[j]; 
        } else {
            right[j] = Math.max(right[j+1], nums[j]); 
        }
    }
    for (int i = 0; i < n - k + 1; i++){
        result[i] = Math.max(right[i], left[i + k - 1]);
    }
    return result;
}

```

+ æ—¶é—´å¤æ‚åº¦ï¼šO(N)ï¼Œæˆ‘ä»¬å¯¹é•¿åº¦ä¸º N çš„æ•°ç»„å¤„ç†äº† 3æ¬¡ï¼ˆå®é™…ä»£ç ä¸­åªæœ‰ä¸¤ä¸ªå¾ªç¯ï¼Œå·¦å³æ‰«ææ˜¯å¯¹ç§°çš„ï¼Œæˆ‘ä»¬åœ¨ä¸€æ¬¡éå†ä¸­åŒæ—¶å¤„ç†äº†ï¼‰ã€‚å› ä¸ºé¿å…äº†å‡ºé˜Ÿå…¥é˜Ÿçš„æ“ä½œï¼Œæ‰€ä»¥è¿™ä¸ªç®—æ³•åœ¨å®é™…è¿è¡Œä¸­ï¼Œè€—è´¹æ—¶é—´è¦æ˜æ˜¾å°‘äºä¹‹å‰çš„ç®—æ³•ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼šO(N)ï¼Œç”¨äºå­˜å‚¨é•¿åº¦ä¸º N çš„ left å’Œ right æ•°ç»„ï¼Œä»¥åŠé•¿åº¦ä¸º N - k + 1çš„è¾“å‡ºæ•°ç»„

## æœ€å°è¦†ç›–å­ä¸²ï¼ˆ#76ï¼‰

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ã€ä¸€ä¸ªå­—ç¬¦ä¸² t ã€‚è¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ s ä¸­ä¸å­˜åœ¨æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² ""  
æ³¨æ„ï¼šå¦‚æœ s ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚

ç¤ºä¾‹ 1ï¼š  
è¾“å…¥ï¼šs = "ADOBECODEBANC", t = "ABC"  
è¾“å‡ºï¼š"BANC"

ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šs = "a", t = "a"  
è¾“å‡ºï¼š"a"

æç¤ºï¼š

l 1 <= s.length, t.length <= 105  
l s å’Œ t ç”±è‹±æ–‡å­—æ¯ç»„æˆ

è¿›é˜¶ï¼šä½ èƒ½è®¾è®¡ä¸€ä¸ªåœ¨ o(n) æ—¶é—´å†…è§£å†³æ­¤é—®é¢˜çš„ç®—æ³•å—

### è§£é¢˜æ€è·¯

æ¯”è¾ƒå­ä¸²æ¯ä¸ªå­—ç¬¦å«æœ‰çš„æ•°é‡ < ä¸»ä¸²çš„æ¯ä¸ªå­—ç¬¦çš„æ•°é‡ã€‚

#### ä¼˜åŒ–æ€è·¯

1. å‡è®¾æœ€ç»ˆæ‰¾åˆ°çš„ä½ç½®ä¸º startIndexå’ŒendIndexã€‚åˆ™åº”è¯¥ å®šä½ startIndexç„¶åå»ç§»åŠ¨endIndexã€‚
2. ä¼˜åŒ–æ€è·¯1: å¦‚æœåº”è¯¥æ‰¾åˆ°äº†åŒ¹é…çš„å­ä¸²ã€‚è€ŒendIndexä¸ç”¨ç»§ç»­å¾€åç§»åŠ¨äº†ã€‚æ­¤æ—¶åº”è¯¥æ˜¯startIndexå¾€åç§»åŠ¨ã€‚(å¯ä»¥ç†è§£ä¸ºåŒæŒ‡é’ˆæ³•)
3. ä¼˜åŒ–æ€è·¯2: æ¯æ¬¡åªç§»åŠ¨1ä¸ªå­—ç¬¦ï¼Œç»Ÿè®¡å­ä¸²æ•°é‡æ—¶ï¼Œåªéœ€è¿›è¡ŒåŠ +1æˆ–è€…å‡-1å³å¯ï¼Œä¸ç”¨æ¯æ¬¡éƒ½å»è®¡ç®—æ•°é‡ã€‚

### æš´åŠ›æ³•

å¦‚æœTä¸­æ²¡æœ‰é‡å¤ï¼Œé‚£è¿™ä¸ªéå¸¸ç®€å•ï¼Œåªè¦å†éå†ä¸€éTï¼Œä¾æ¬¡æ£€æŸ¥æ¯ä¸ªå­—ç¬¦æ˜¯å¦åŒ…å«å°±å¯ä»¥äº†ï¼›ä½†ç°åœ¨Tä¸­å­—ç¬¦å¯èƒ½é‡å¤ï¼Œå¦‚æœä¸€ä¸ªå­—ç¬¦â€œAâ€é‡å¤å‡ºç°3æ¬¡ï¼Œé‚£æˆ‘ä»¬å¯»æ‰¾çš„å­ä¸²ä¸­ä¹Ÿå¿…é¡»æœ‰3ä¸ªâ€œAâ€ã€‚

![](http://image.clickear.top/20220401114354.png)

 

å­ä¸²Sç¬¦åˆè¦æ±‚çš„æ¡ä»¶æ˜¯ï¼š**ç»Ÿè®¡Tä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œå…¨éƒ¨å°äºç­‰äºåœ¨Sä¸­å‡ºç°æ¬¡æ•°ã€‚**

```java
public class MinimumWindowSubstring {
    public String minWindow(String s, String t) {
        String minSubString = "";
        HashMap<Character, Integer> tCharFrequency = new HashMap<>();
        // ç»Ÿè®¡tä¸­çš„å­—ç¬¦é¢‘æ¬¡
        for (int i = 0; i < t.length(); i++){
            char c = t.charAt(i);
            int count = tCharFrequency.getOrDefault(c, 0);
            tCharFrequency.put(c, count + 1);
        }
        // éå†æ¯ä¸ªå­—ç¬¦
        for (int i = 0; i < s.length(); i++){
            for (int j = i + t.length(); j <= s.length(); j++){
                HashMap<Character, Integer> subStrCharFrequency = new HashMap<>();
                for (int k = i; k < j; k++){
                    char c = s.charAt(k);
                    int count = subStrCharFrequency.getOrDefault(c, 0);
                    subStrCharFrequency.put(c, count + 1);
                }
                if (check(tCharFrequency, subStrCharFrequency) && (j - i < minSubString.length() || minSubString.equals("") )){
                    minSubString = s.substring(i, j); 
                    // è¿™é‡Œæ˜æ˜¾æ˜¯ä¸ªä¼˜åŒ–æ€è·¯ã€‚å³å¦‚æœå·²ç»æ‰¾åˆ°åç»­çš„å°±ä¸ç”¨åŒ¹é…äº†ï¼Œå› ä¸ºæ˜¯æ±‚æœ€çŸ­ï¼Œåç»­è‚¯å®šåªä¼šæ›´é•¿ã€‚ è¿™é‡Œå¦‚æœåŠ breakç­‰ä»·äº åŒæŒ‡é’ˆæ³•ã€‚
                    // if(!minSubString.equals("")){
                    //     break;
                    // }
                }
            }
        }
        return minSubString;
    }
    // å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥æ£€æŸ¥å­ä¸²æ˜¯å¦ç¬¦åˆè¦æ±‚
    public boolean check( HashMap<Character, Integer> tFreq, HashMap<Character, Integer> subStrFreq ){
        for (char c: tFreq.keySet()) {
            if (subStrFreq.getOrDefault(c, 0) < tFreq.get(c)){
                return false;
            }
        }
        return true;
    }
}

```

### æ»‘åŠ¨çª—å£

```java
public String minWindow(String s, String t) {
    String minSubString = "";
    HashMap<Character, Integer> tCharFrequency = new HashMap<>();
    for (int i = 0; i < t.length(); i++){
        char c = t.charAt(i);
        int count = tCharFrequency.getOrDefault(c, 0);
        tCharFrequency.put(c, count + 1);
    }
    HashMap<Character, Integer> subStrCharFrequency = new HashMap<>();
    int lp = 0, rp = 1;

    int charCount = 0;

    while ( rp <= s.length() ){
        char newChar = s.charAt(rp - 1);
        if ( tCharFrequency.containsKey(newChar) ){
            subStrCharFrequency.put(newChar, subStrCharFrequency.getOrDefault(newChar, 0) + 1);
            if ( subStrCharFrequency.get(newChar) <= tCharFrequency.get(newChar) )
                charCount ++;
        }
        while ( charCount == t.length() && lp < rp ){
            if ( minSubString.equals("") || rp - lp < minSubString.length() ){
                minSubString = s.substring(lp, rp);
            }
            char removedChar = s.charAt(lp);
            if ( tCharFrequency.containsKey(removedChar) ){
                subStrCharFrequency.put(removedChar, subStrCharFrequency.getOrDefault(removedChar, 0) - 1);
                if ( subStrCharFrequency.get(removedChar) < tCharFrequency.get(removedChar) )
                    charCount --;
            }
            lp++; 
        }

        rp++; 
    }
    return minSubString;
}

```

## æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯ï¼ˆ#438ï¼‰

å…¶å®ƒä¼˜ç§€è§£æï¼š

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²Â sÂ å’Œä¸€ä¸ªéç©ºå­—ç¬¦ä¸² pï¼Œæ‰¾åˆ° s ä¸­æ‰€æœ‰æ˜¯ p çš„å­—æ¯å¼‚ä½è¯çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚

å­—ç¬¦ä¸²åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ï¼Œå¹¶ä¸”å­—ç¬¦ä¸²Â sÂ å’Œ p çš„é•¿åº¦éƒ½ä¸è¶…è¿‡ 20100ã€‚

è¯´æ˜ï¼š

l å­—æ¯å¼‚ä½è¯æŒ‡å­—æ¯ç›¸åŒï¼Œä½†æ’åˆ—ä¸åŒçš„å­—ç¬¦ä¸²ã€‚

l ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

ç¤ºä¾‹Â 1:

è¾“å…¥:

s: "cbaebabacd" p: "abc"

è¾“å‡º:

[0, 6]

è§£é‡Š:

èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å­—æ¯å¼‚ä½è¯ã€‚

èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å­—æ¯å¼‚ä½è¯ã€‚

 ç¤ºä¾‹ 2:

è¾“å…¥:

s: "abab" p: "ab"

è¾“å‡º:

[0, 1, 2]

è§£é‡Š:

èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å­—æ¯å¼‚ä½è¯ã€‚

èµ·å§‹ç´¢å¼•ç­‰äº 1 çš„å­ä¸²æ˜¯ "ba", å®ƒæ˜¯ "ab" çš„å­—æ¯å¼‚ä½è¯ã€‚

èµ·å§‹ç´¢å¼•ç­‰äº 2 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å­—æ¯å¼‚ä½è¯

### è§£é¢˜åˆ†æ

ä¼˜ç§€è§£æï¼š  
[å­—æ¯å¼‚ä½è¯ï¼ˆ438ï¼‰ | å°æµ©ç®—æ³•](https://www.geekxh.com/1.5.%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E7%B3%BB%E5%88%97/503.html#_01%E3%80%81%E9%A2%98%E7%9B%AE%E5%88%86%E6%9E%90)

â€œå­—æ¯å¼‚ä½è¯â€ï¼ŒæŒ‡â€œå­—æ¯ç›¸åŒï¼Œä½†æ’åˆ—ä¸åŒçš„å­—ç¬¦ä¸²â€ã€‚æ³¨æ„è¿™é‡Œæ‰€è¯´çš„â€œæ’åˆ—ä¸åŒâ€ï¼Œæ˜¯æ‰€æœ‰å­—æ¯å¼‚ä½è¯å½¼æ­¤ä¹‹é—´è€Œè¨€çš„ï¼Œå¹¶ä¸æ˜¯è¯´è¦å’Œç›®æ ‡å­—ç¬¦ä¸²pä¸åŒã€‚

å¦å¤–ï¼Œæˆ‘ä»¬åŒæ ·åº”è¯¥è€ƒè™‘ï¼Œpä¸­å¯èƒ½æœ‰é‡å¤å­—æ¯

### æš´åŠ›æ³•

æœ€ç®€å•çš„æƒ³æ³•ï¼Œè‡ªç„¶è¿˜æ˜¯æš´åŠ›æ³•ã€‚å°±æ˜¯ç›´æ¥éå†sä¸­æ¯ä¸€ä¸ªå­—ç¬¦ï¼ŒæŠŠå®ƒå½“ä½œå­ä¸²çš„èµ·å§‹ï¼Œåˆ¤æ–­é•¿åº¦ä¸ºp.length()çš„å­ä¸²æ˜¯å¦æ˜¯pçš„å­—æ¯å¼‚ä½è¯å°±å¯ä»¥äº†ã€‚

è€ƒè™‘åˆ°å­ä¸²å’Œpä¸­éƒ½å¯èƒ½æœ‰é‡å¤å­—æ¯ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç”¨ä¸€ä¸ªé¢å¤–çš„æ•°æ®ç»“æ„ï¼Œæ¥ä¿å­˜æ¯ä¸ªå­—æ¯çš„å‡ºç°é¢‘æ¬¡ã€‚ç”±äºæœ¬é¢˜çš„å­—ç¬¦ä¸²é™å®šåªåŒ…å«å°å†™å­—æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ç”¨ä¸€ä¸ªé•¿åº¦ä¸º26çš„intç±»å‹æ•°ç»„æ¥è¡¨ç¤ºï¼Œæ¯ä¸ªä½ç½®å­˜æ”¾çš„åˆ†åˆ«æ˜¯å­—æ¯a~zçš„å‡ºç°ä¸ªæ•°ã€‚

```java
public class FindAllAnagrams {
    public List<Integer> findAnagrams(String s, String p) {
        int[] pCharCounts = new int[26]; 
        for ( int i = 0; i < p.length(); i++ ){
            pCharCounts[p.charAt(i) - 'a'] ++; 
        }
        ArrayList<Integer> result = new ArrayList<>();
        // éå†s 
        for ( int i = 0; i <= s.length() - p.length(); i++ ){
            boolean isMatch = true;
            int[] subStrCharCounts = new int[26];
            for ( int j = i; j < i + p.length(); j++ ){
                subStrCharCounts[s.charAt(j) - 'a'] ++;
                if ( subStrCharCounts[s.charAt(j) - 'a'] > pCharCounts[s.charAt(j) - 'a'] ) {
                    isMatch = false;
                    break;
                }
            }
            if ( isMatch )
                result.add(i);
        }
        return result;
    }
}

```

 

**å¤æ‚åº¦åˆ†æ**

æ—¶é—´å¤æ‚åº¦ï¼šO(|s| * |p|)ï¼Œå…¶ä¸­|s|è¡¨ç¤ºsçš„é•¿åº¦ï¼Œ|p|è¡¨ç¤ºpçš„é•¿åº¦ã€‚æ—¶é—´å¼€é”€ä¸»è¦æ¥è‡ªåŒå±‚å¾ªç¯ï¼Œå¾ªç¯çš„è¿­ä»£æ¬¡æ•°åˆ†åˆ«æ˜¯(s.length-p.length+1)å’Œ p.length, æ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO((|s|-|p|+1) * |p|), å»é™¤ä½é˜¶å¤æ‚åº¦ï¼Œæœ€ç»ˆçš„ç®—æ³•å¤æ‚åº¦ä¸º O(|s| * |p|)ã€‚

ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚éœ€è¦ä¸¤ä¸ªå¤§å°ä¸º 26 çš„è®¡æ•°æ•°ç»„ï¼Œåˆ†åˆ«ä¿å­˜på’Œå½“å‰å­ä¸²çš„å­—æ¯ä¸ªæ•°ã€‚å°½ç®¡å¾ªç¯è¿­ä»£è¿‡ç¨‹ä¸­åœ¨ä¸æ–­ç”³è¯·æ–°çš„ç©ºé—´ï¼Œä½†æ˜¯ä¸Šä¸€æ¬¡ç”³è¯·çš„æ•°ç»„ç©ºé—´åº”è¯¥å¯ä»¥å¾—åˆ°å¤ç”¨ï¼Œæ‰€ä»¥å®é™…ä¸Šä¸€å…±èŠ±è´¹äº†2ä¸ªæ•°ç»„çš„ç©ºé—´ï¼Œå› ä¸ºæ•°ç»„å¤§å°æ˜¯å¸¸æ•°ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚

### [[åŒæŒ‡é’ˆæ³•]]

æš´åŠ›æ³•çš„ç¼ºç‚¹æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼šæ—¶é—´å¤æ‚åº¦è¾ƒå¤§ï¼Œè¿è¡Œè€—æ—¶è¾ƒé•¿ã€‚

æˆ‘ä»¬åœ¨æš´åŠ›æ±‚è§£çš„æ—¶å€™ï¼Œå…¶å®å¯¹äºå¾ˆå¤šå­—æ¯æ˜¯åšäº†å¤šæ¬¡ç»Ÿè®¡çš„ã€‚å­ä¸²å¯ä»¥çœ‹ä½œå­—ç¬¦ä¸²ä¸Šå¼€çª—æˆªå–çš„ç»“æœï¼Œè‡ªç„¶æƒ³åˆ°ï¼Œå¯ä»¥å®šä¹‰å·¦å³æŒ‡é’ˆå‘å³ç§»åŠ¨ï¼Œå®ç°æ»‘åŠ¨çª—å£çš„ä½œç”¨ã€‚åœ¨æŒ‡é’ˆç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå­—ç¬¦åªä¼šè¢«éå†ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦å°±å¯ä»¥å¤§å¤§é™ä½

```java
public List<Integer> findAnagrams(String s, String p) {
        int[] pCharCounts = new int[26]; 
        for ( int i = 0; i < p.length(); i++ ){
            pCharCounts[p.charAt(i) - 'a'] ++; 
        }
        ArrayList<Integer> result = new ArrayList<>();
        // å®šä¹‰å·¦å³æŒ‡é’ˆ
        int lp = 0, rp = 1;
        int[] subStrCharCounts = new int[26];
        while ( rp <= s.length() ){
            char newChar = s.charAt(rp - 1);
            subStrCharCounts[newChar - 'a'] ++;
            // æ–°å¢ä¸€ä¸ªæ—¶ï¼Œä¸€ç›´é€’å½’åˆ°ä¸‹ä¸€ä¸ª
            while ( subStrCharCounts[newChar - 'a'] > pCharCounts[newChar - 'a'] && lp < rp ){
                char removedChar = s.charAt(lp);
                subStrCharCounts[removedChar - 'a'] --;
                lp ++;
            }
            if ( rp - lp == p.length() )
	            result.add(lp);
            rp ++; 
        }
        return result;
}
```

**å¤æ‚åº¦åˆ†æ**

æ—¶é—´å¤æ‚åº¦ï¼šO(|s|)ã€‚ çª—å£çš„å·¦å³æŒ‡é’ˆæœ€å¤šéƒ½åˆ°è¾¾ s ä¸²ç»“å°¾ï¼Œs ä¸²æ¯ä¸ªå­—ç¬¦æœ€å¤šè¢«å·¦å³æŒ‡é’ˆéƒ½ç»è¿‡ä¸€æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(|s|)ã€‚

ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚åªéœ€è¦ä¸¤ä¸ªå¤§å°ä¸º 26 çš„è®¡æ•°æ•°ç»„ï¼Œå¤§å°å‡æ˜¯ç¡®å®šçš„å¸¸é‡ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚

## æ— é‡å¤çš„æœ€é•¿å­ä¸²(#3)

[æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ï¼ˆ3ï¼‰ | å°æµ©ç®—æ³•](https://www.geekxh.com/1.5.%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E7%B3%BB%E5%88%97/502.html#_01%E3%80%81%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E4%BB%8B%E7%BB%8D)

## å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—

è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° target ï¼Œè¾“å‡ºæ‰€æœ‰å’Œä¸º target çš„**è¿ç»­**æ­£æ•´æ•°åºåˆ—ï¼ˆè‡³å°‘å«æœ‰ä¸¤ä¸ªæ•°ï¼‰ã€‚åºåˆ—å†…çš„æ•°å­—ç”±å°åˆ°å¤§æ’åˆ—ï¼Œä¸åŒåºåˆ—æŒ‰ç…§é¦–ä¸ªæ•°å­—ä»å°åˆ°å¤§æ’åˆ—ã€‚

```
è¾“å…¥ï¼štarget = 9
è¾“å‡ºï¼š[[2,3,4],[4,5]]
```

``` java
class Solution { 
    public int[][] findContinuousSequence(int target) {
        List<int[]> res = new ArrayList<>(); 
        int left = 1;  
        int right = 1;  
        int win = 0;  
        // ä»¥ä¸­æ•°è¿›è¡Œåˆ¤æ–­ã€‚å·¦åŸºå‡†
        while (left <= target / 2) {
            if (win < target) {
                win += right;
                right++;
            } else if (win > target) {
                win -= left;
                left++;
            } else {
                int[] arr = new int[right-left];
                for (int k = left; k < right; k++) {
                    arr[k-left] = k;
                }
                res.add(arr);
                win -= left;
                left++;
            }
        }
        return res.toArray(new int[res.size()][]);
    }
}
```

[å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ— | å°æµ©ç®—æ³•](https://www.geekxh.com/1.5.%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E7%B3%BB%E5%88%97/504.html#_02%E3%80%81%E9%A2%98%E7%9B%AE%E5%88%86%E6%9E%90)

# å‚è€ƒèµ„æ–™

[æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ï¼ˆ3ï¼‰ | å°æµ©ç®—æ³•](https://www.geekxh.com/1.5.%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E7%B3%BB%E5%88%97/502.html)
